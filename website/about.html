<!DOCTYPE html>
<html>

<head>
    <title>Pearla Jewelry</title>
    <link rel="stylesheet" href="frontend.css">
    <link rel="stylesheet" href="https://fonts.cdnfonts.com/css/bellada">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <nav>
        <!-- WebsiteName -->
        <div class="nav-left">
            <a href="home.html" class="logo">Pearla Jewelry</a>
        </div>

        <!-- Categories -->
        <div class="nav-center pullDown">
            <a href="home.html" class="x notvisited">Home</a>
            <a href="gold.html" class="x notvisited">Gold</a>
            <a href="diamond.html" class="x notvisited">Diamond</a>
            <a href="about.html" class="x visited">About Us</a>
            <a href="search.html" class="x notvisited">Search</a>
            <a href="order.html" class="x notvisited">My Orders</a>

        </div>

        <!-- cart and profile -->
        <div class="nav-right">
            <a href="cart.html" class="y"><i class="fa fa-shopping-cart" style="margin-left: 50px;"></i></a>
            <nav>
                <ul>
                    <li>
                        <a class="nav y" style="margin-bottom: 13px;"><i class="fa fa-user"
                                style="margin-right: 20px;"></i></a>
                                <div class="dropdown main" id="userDropdown">
                                    <div class="profile">
                                          <center>
                                            <h1>My Account</h1>
                                            <i class="fa fa-user fa-5x profile"></i>
                                          </center>
                                          <br><br>
                                          <div class="info">
                                            <strong>Name:</strong><br>
                                            <span id="username"></span><br><br>
                                            <strong>Email:</strong><br>
                                            <span id="email"></span><br><br>
                                            <strong>Phone Number:</strong><br>
                                            <span id="phone"></span><br><br>
                                          </div>
                                          <center>
                                            <div class="tabs">Account Settings</div>
                                            <div class="tabs"><a href="order.html" class="profilebutton"> My Orders </a></div>
                                            <div class="tabs">Help</div>
                                            <div class="tabs"><a href="login.html" class="profilebutton"> Log Out </a></div>
                                          </center>
                                    </div>                                 
                                </div>
                    </li>
                </ul>
            </nav>

        </div>
    </nav>

    <h1 class="title">Pearla Jewelry</h1>
    <div class="middle">
        <div class="about">
            <strong>Welcome to Pearla Jewelry!</strong>
            <p>At Pearla Jewelry, we believe that every moment is an opportunity to shine. Our exquisite collection of
                gold and diamond jewelry is designed to accentuate your beauty and add a touch of elegance to your
                everyday life. Whether you're looking for a stunning engagement ring, a statement necklace, or a pair of
                dazzling earrings, we have the perfect piece to enhance your personal style.</p>
            <strong>Please Note: This is a Student Demo Website</strong>
            <p>We would like to inform you that Pearla Jewelry is not a real shopping store, but rather a student demo
                created to practice website development skills. While we strive to provide an enjoyable and informative
                experience, we kindly request that you do not attempt to make any purchases on this website.</p>
        <div style="display: flex; align-items: center;">
            <strong style="padding-right: 5px;">Contact Us:</strong>
            <div class="social-links">
                <a href="https://www.facebook.com" class="icons"><i class="fa-brands fa-facebook"></i></a>
                <a href="https://www.instagram.com" class="icons"><i class="fa-brands fa-instagram"></i></a>
                <a href="https://www.twitter.com" class="icons"><i class="fa-brands fa-twitter"></i></a>
        </div>
            </div>

        </div>
    </div>
    

    <script>
        
        const userLink = document.querySelector('.nav.y');
        const userDataContainer = document.getElementById('userDataContainer');
    
        userLink.addEventListener('mouseover', async () => {
        const username = localStorage.getItem("username");
    
        let url = 'http://localhost/userdata';
        let queryParameters = [];
    
        if (username) {
          queryParameters.push(`username=${encodeURIComponent(username)}`);
        }
    
        if (queryParameters.length > 0) {
          url += `?${queryParameters.join('&')}`;
        }
    
        try {
          const response = await fetch(url);
          const data = await response.json();
    
          if (response.ok) {
            // Display user data in the dropdown menu
            const { username, email, phone } = data;
            document.getElementById('username').textContent = username;
            document.getElementById('email').textContent = email;
            document.getElementById('phone').textContent = phone;
    
            // Show the dropdown menu
            userLink.classList.add('active');
          } else {
            // Display error message
            userDataContainer.textContent = data.message;
          }
        } catch (error) {
          console.error('Error fetching user data:', error);
          userDataContainer.textContent = 'Error fetching user data. Please try again.';
        }
      });
    
      userLink.addEventListener('mouseleave', () => {
        // Hide the dropdown menu
        userLink.classList.remove('active');
      });
    </script>
</body>

</html>